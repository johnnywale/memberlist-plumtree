\* Configuration file for TLA+ model checker (TLC)
\* This file defines the model checking parameters for the Plumtree specification

\* ============================================================================
\* CONSTANTS
\* ============================================================================

\* Nodes in the cluster (small for tractable model checking)
CONSTANT Nodes = {n1, n2, n3}

\* Messages that can be broadcast
CONSTANT Messages = {m1, m2}

\* Maximum gossip round (bounds state space)
CONSTANT MaxRound = 3

\* Message type tags
CONSTANT Gossip = Gossip
CONSTANT IHave = IHave
CONSTANT Graft = Graft
CONSTANT Prune = Prune

\* ============================================================================
\* SPECIFICATION
\* ============================================================================

SPECIFICATION Spec

\* ============================================================================
\* INVARIANTS (checked in every state)
\* ============================================================================

INVARIANT TypeInvariant
INVARIANT NoSelfInEager
INVARIANT NoSelfInLazy
INVARIANT EagerLazyDisjoint

\* ============================================================================
\* PROPERTIES (temporal formulas)
\* ============================================================================

\* Liveness: messages eventually delivered everywhere
PROPERTY EventualDelivery

\* Liveness: graft requests eventually complete
PROPERTY GraftProgress

\* ============================================================================
\* SYMMETRY (optimization)
\* ============================================================================

\* Nodes and Messages can be permuted without changing behavior
SYMMETRY Nodes
SYMMETRY Messages

\* ============================================================================
\* CHECKING OPTIONS
\* ============================================================================

\* Check for deadlocks (no enabled actions)
\* CHECK_DEADLOCK TRUE

\* Maximum depth of state exploration (comment out for exhaustive)
\* DEPTH 50
